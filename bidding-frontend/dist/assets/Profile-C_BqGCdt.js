import{u as H}from"./user-CoC7bmMY.js";import{_ as J,r as N,a as O,c as b,o as _,d as e,w as l,e as a,b as u,m as d,t as v,g as V,l as Q,q as y,K as X,L as Y,M as Z,N as $,E as h}from"./index-8BbQxS2W.js";import"./request-BHOxzfOV.js";const ee={class:"profile container"},le={class:"user-brief"},te={key:0},oe={key:1},ae={key:2},ne={__name:"Profile",setup(se){var I,k,w,g;const n=H(),r=N("info"),x=N("announcement"),s=O({username:((I=n.userInfo)==null?void 0:I.username)||"",realName:((k=n.userInfo)==null?void 0:k.realName)||"",phone:((w=n.userInfo)==null?void 0:w.phone)||"",email:((g=n.userInfo)==null?void 0:g.email)||""}),z=N([{projectName:"2026年度企业数字化转型软件采购项目",bidAmount:48e5,status:"已提交",createTime:"2026-01-08"}]),D=S=>{r.value=S},L=()=>{h.success("资料更新成功")};return(S,t)=>{const P=a("el-avatar"),U=a("el-tag"),i=a("el-icon"),p=a("el-menu-item"),q=a("el-menu"),T=a("el-card"),A=a("el-col"),f=a("el-input"),m=a("el-form-item"),F=a("el-button"),K=a("el-form"),B=a("el-empty"),C=a("el-tab-pane"),R=a("el-tabs"),c=a("el-table-column"),W=a("el-table"),G=a("el-row");return _(),b("div",ee,[e(G,{gutter:30},{default:l(()=>[e(A,{span:6},{default:l(()=>[e(T,{class:"menu-card",shadow:"never"},{default:l(()=>{var o,E,M;return[u("div",le,[e(P,{size:80,src:(o=d(n).userInfo)==null?void 0:o.avatar},null,8,["src"]),u("h3",null,v(((E=d(n).userInfo)==null?void 0:E.realName)||((M=d(n).userInfo)==null?void 0:M.username)),1),e(U,{size:"small"},{default:l(()=>{var j;return[V(v(((j=d(n).userInfo)==null?void 0:j.role)==="ADMIN"?"系统管理员":"认证供应商"),1)]}),_:1})]),e(q,{"default-active":r.value,class:"profile-menu",onSelect:D},{default:l(()=>[e(p,{index:"info"},{default:l(()=>[e(i,null,{default:l(()=>[e(d(X))]),_:1}),t[5]||(t[5]=u("span",null,"个人资料",-1))]),_:1}),e(p,{index:"favorites"},{default:l(()=>[e(i,null,{default:l(()=>[e(d(Y))]),_:1}),t[6]||(t[6]=u("span",null,"我的收藏",-1))]),_:1}),d(n).isSupplier()?(_(),Q(p,{key:0,index:"bids"},{default:l(()=>[e(i,null,{default:l(()=>[e(d(Z))]),_:1}),t[7]||(t[7]=u("span",null,"投标记录",-1))]),_:1})):y("",!0),e(p,{index:"security"},{default:l(()=>[e(i,null,{default:l(()=>[e(d($))]),_:1}),t[8]||(t[8]=u("span",null,"安全设置",-1))]),_:1})]),_:1},8,["default-active"])]}),_:1})]),_:1}),e(A,{span:18},{default:l(()=>[e(T,{class:"content-card",shadow:"never"},{default:l(()=>[r.value==="info"?(_(),b("div",te,[t[10]||(t[10]=u("h2",{class:"section-title"},"个人资料",-1)),e(K,{model:s,"label-width":"100px",style:{"max-width":"500px"}},{default:l(()=>[e(m,{label:"用户名"},{default:l(()=>[e(f,{modelValue:s.username,"onUpdate:modelValue":t[0]||(t[0]=o=>s.username=o),disabled:""},null,8,["modelValue"])]),_:1}),e(m,{label:"真实姓名"},{default:l(()=>[e(f,{modelValue:s.realName,"onUpdate:modelValue":t[1]||(t[1]=o=>s.realName=o)},null,8,["modelValue"])]),_:1}),e(m,{label:"手机号"},{default:l(()=>[e(f,{modelValue:s.phone,"onUpdate:modelValue":t[2]||(t[2]=o=>s.phone=o)},null,8,["modelValue"])]),_:1}),e(m,{label:"邮箱"},{default:l(()=>[e(f,{modelValue:s.email,"onUpdate:modelValue":t[3]||(t[3]=o=>s.email=o)},null,8,["modelValue"])]),_:1}),e(m,null,{default:l(()=>[e(F,{type:"primary",onClick:L},{default:l(()=>[...t[9]||(t[9]=[V("保存修改",-1)])]),_:1})]),_:1})]),_:1},8,["model"])])):y("",!0),r.value==="favorites"?(_(),b("div",oe,[t[11]||(t[11]=u("h2",{class:"section-title"},"我的收藏",-1)),e(R,{modelValue:x.value,"onUpdate:modelValue":t[4]||(t[4]=o=>x.value=o)},{default:l(()=>[e(C,{label:"招标公告",name:"announcement"},{default:l(()=>[e(B,{description:"暂无收藏的公告"})]),_:1}),e(C,{label:"供应商",name:"supplier"},{default:l(()=>[e(B,{description:"暂无收藏的供应商"})]),_:1})]),_:1},8,["modelValue"])])):y("",!0),r.value==="bids"?(_(),b("div",ae,[t[12]||(t[12]=u("h2",{class:"section-title"},"投标记录",-1)),e(W,{data:z.value,style:{width:"100%"}},{default:l(()=>[e(c,{prop:"projectName",label:"项目名称"}),e(c,{prop:"bidAmount",label:"投标金额"},{default:l(({row:o})=>[V("￥"+v(o.bidAmount.toLocaleString()),1)]),_:1}),e(c,{prop:"status",label:"状态"},{default:l(({row:o})=>[e(U,{type:o.status==="WIN"?"success":"info"},{default:l(()=>[V(v(o.status),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"createTime",label:"投标时间"})]),_:1},8,["data"])])):y("",!0)]),_:1})]),_:1})]),_:1})])}}},me=J(ne,[["__scopeId","data-v-3e66d23c"]]);export{me as default};
