import{_ as x,r as v,j as C,c as T,o as l,p as E,n as I,k as n,w as t,e as i,i as R,u as S,d as o,b as u,g as s,t as c,l as f}from"./index-BfjmpUK-.js";import{b as V,m as A}from"./notice-CqPt9wmV.js";import"./request-CvP5yQdq.js";const M={class:"page-container"},L={class:"detail-header"},O={class:"content-section"},P={class:"content-text"},U={__name:"Detail",setup(Y){const p=R(),y=S(),_=v(!1),a=v({}),k=async()=>{_.value=!0;try{a.value=await V(p.params.id),await A(p.params.id)}catch(m){console.error("加载详情失败",m)}finally{_.value=!1}},b=()=>{y.back()};return C(()=>{k()}),(m,e)=>{const g=i("el-button"),r=i("el-descriptions-item"),d=i("el-tag"),N=i("el-descriptions"),D=i("el-divider"),B=i("el-card"),w=I("loading");return l(),T("div",M,[E((l(),n(B,null,{header:t(()=>[u("div",L,[u("span",null,c(a.value.title),1),o(g,{onClick:b},{default:t(()=>[...e[0]||(e[0]=[s("返回",-1)])]),_:1})])]),default:t(()=>[o(N,{column:2,border:""},{default:t(()=>[o(r,{label:"标题",span:2},{default:t(()=>[s(c(a.value.title),1)]),_:1}),o(r,{label:"类型"},{default:t(()=>[a.value.type==="SYSTEM"?(l(),n(d,{key:0},{default:t(()=>[...e[1]||(e[1]=[s("系统通知",-1)])]),_:1})):a.value.type==="POLICY"?(l(),n(d,{key:1,type:"warning"},{default:t(()=>[...e[2]||(e[2]=[s("政策变动",-1)])]),_:1})):a.value.type==="ANNOUNCEMENT"?(l(),n(d,{key:2,type:"success"},{default:t(()=>[...e[3]||(e[3]=[s("公告提醒",-1)])]),_:1})):f("",!0)]),_:1}),o(r,{label:"状态"},{default:t(()=>[a.value.status==="DRAFT"?(l(),n(d,{key:0,type:"info"},{default:t(()=>[...e[4]||(e[4]=[s("草稿",-1)])]),_:1})):a.value.status==="PUBLISHED"?(l(),n(d,{key:1,type:"success"},{default:t(()=>[...e[5]||(e[5]=[s("已发布",-1)])]),_:1})):f("",!0)]),_:1}),o(r,{label:"发布时间"},{default:t(()=>[s(c(a.value.publishTime),1)]),_:1}),o(r,{label:"创建时间"},{default:t(()=>[s(c(a.value.createTime),1)]),_:1})]),_:1}),o(D),u("div",O,[e[6]||(e[6]=u("h3",null,"通知内容",-1)),u("div",P,c(a.value.content),1)])]),_:1})),[[w,_.value]])])}}},q=x(U,[["__scopeId","data-v-791d7371"]]);export{q as default};
