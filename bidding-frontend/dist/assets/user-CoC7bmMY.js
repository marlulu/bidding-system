import{O as u,r,P as a,Q as l}from"./index-8BbQxS2W.js";import{r as s}from"./request-BHOxzfOV.js";function i(e){return s({url:"/auth/login",method:"post",data:e})}function c(){return s({url:"/auth/info",method:"get"})}const U=u("user",()=>{const e=r(null),t=r("");return{userInfo:e,token:t,login:async o=>{const n=await i(o);return t.value=n.token,e.value=n.userInfo,a(n.token),n},getUserInfo:async()=>{const o=await c();return e.value=o,o},logout:()=>{t.value="",e.value=null,l()},isAdmin:()=>e.value&&e.value.role==="ADMIN",isSupplier:()=>e.value&&e.value.role==="SUPPLIER"}});export{U as u};
