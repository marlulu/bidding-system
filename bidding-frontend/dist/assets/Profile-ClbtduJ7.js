import{_ as H,u as J,r as N,b as K,k as b,o as _,g as e,w as l,e as o,h as u,i as d,t as v,j as V,d as Q,m as y,L as X,M as Y,N as Z,O as $,E as h}from"./index-BnRauf0p.js";const ee={class:"profile container"},le={class:"user-brief"},te={key:0},ae={key:1},oe={key:2},ne={__name:"Profile",setup(se){var I,k,w,g;const n=J(),r=N("info"),x=N("announcement"),s=K({username:((I=n.userInfo)==null?void 0:I.username)||"",realName:((k=n.userInfo)==null?void 0:k.realName)||"",phone:((w=n.userInfo)==null?void 0:w.phone)||"",email:((g=n.userInfo)==null?void 0:g.email)||""}),z=N([{projectName:"2026年度企业数字化转型软件采购项目",bidAmount:48e5,status:"已提交",createTime:"2026-01-08"}]),D=S=>{r.value=S},L=()=>{h.success("资料更新成功")};return(S,t)=>{const P=o("el-avatar"),U=o("el-tag"),i=o("el-icon"),p=o("el-menu-item"),F=o("el-menu"),T=o("el-card"),A=o("el-col"),f=o("el-input"),m=o("el-form-item"),O=o("el-button"),R=o("el-form"),B=o("el-empty"),C=o("el-tab-pane"),W=o("el-tabs"),c=o("el-table-column"),q=o("el-table"),G=o("el-row");return _(),b("div",ee,[e(G,{gutter:30},{default:l(()=>[e(A,{span:6},{default:l(()=>[e(T,{class:"menu-card",shadow:"never"},{default:l(()=>{var a,j,E;return[u("div",le,[e(P,{size:80,src:(a=d(n).userInfo)==null?void 0:a.avatar},null,8,["src"]),u("h3",null,v(((j=d(n).userInfo)==null?void 0:j.realName)||((E=d(n).userInfo)==null?void 0:E.username)),1),e(U,{size:"small"},{default:l(()=>{var M;return[V(v(((M=d(n).userInfo)==null?void 0:M.role)==="ADMIN"?"系统管理员":"认证供应商"),1)]}),_:1})]),e(F,{"default-active":r.value,class:"profile-menu",onSelect:D},{default:l(()=>[e(p,{index:"info"},{default:l(()=>[e(i,null,{default:l(()=>[e(d(X))]),_:1}),t[5]||(t[5]=u("span",null,"个人资料",-1))]),_:1}),e(p,{index:"favorites"},{default:l(()=>[e(i,null,{default:l(()=>[e(d(Y))]),_:1}),t[6]||(t[6]=u("span",null,"我的收藏",-1))]),_:1}),d(n).isSupplier()?(_(),Q(p,{key:0,index:"bids"},{default:l(()=>[e(i,null,{default:l(()=>[e(d(Z))]),_:1}),t[7]||(t[7]=u("span",null,"投标记录",-1))]),_:1})):y("",!0),e(p,{index:"security"},{default:l(()=>[e(i,null,{default:l(()=>[e(d($))]),_:1}),t[8]||(t[8]=u("span",null,"安全设置",-1))]),_:1})]),_:1},8,["default-active"])]}),_:1})]),_:1}),e(A,{span:18},{default:l(()=>[e(T,{class:"content-card",shadow:"never"},{default:l(()=>[r.value==="info"?(_(),b("div",te,[t[10]||(t[10]=u("h2",{class:"section-title"},"个人资料",-1)),e(R,{model:s,"label-width":"100px",style:{"max-width":"500px"}},{default:l(()=>[e(m,{label:"用户名"},{default:l(()=>[e(f,{modelValue:s.username,"onUpdate:modelValue":t[0]||(t[0]=a=>s.username=a),disabled:""},null,8,["modelValue"])]),_:1}),e(m,{label:"真实姓名"},{default:l(()=>[e(f,{modelValue:s.realName,"onUpdate:modelValue":t[1]||(t[1]=a=>s.realName=a)},null,8,["modelValue"])]),_:1}),e(m,{label:"手机号"},{default:l(()=>[e(f,{modelValue:s.phone,"onUpdate:modelValue":t[2]||(t[2]=a=>s.phone=a)},null,8,["modelValue"])]),_:1}),e(m,{label:"邮箱"},{default:l(()=>[e(f,{modelValue:s.email,"onUpdate:modelValue":t[3]||(t[3]=a=>s.email=a)},null,8,["modelValue"])]),_:1}),e(m,null,{default:l(()=>[e(O,{type:"primary",onClick:L},{default:l(()=>[...t[9]||(t[9]=[V("保存修改",-1)])]),_:1})]),_:1})]),_:1},8,["model"])])):y("",!0),r.value==="favorites"?(_(),b("div",ae,[t[11]||(t[11]=u("h2",{class:"section-title"},"我的收藏",-1)),e(W,{modelValue:x.value,"onUpdate:modelValue":t[4]||(t[4]=a=>x.value=a)},{default:l(()=>[e(C,{label:"招标公告",name:"announcement"},{default:l(()=>[e(B,{description:"暂无收藏的公告"})]),_:1}),e(C,{label:"供应商",name:"supplier"},{default:l(()=>[e(B,{description:"暂无收藏的供应商"})]),_:1})]),_:1},8,["modelValue"])])):y("",!0),r.value==="bids"?(_(),b("div",oe,[t[12]||(t[12]=u("h2",{class:"section-title"},"投标记录",-1)),e(q,{data:z.value,style:{width:"100%"}},{default:l(()=>[e(c,{prop:"projectName",label:"项目名称"}),e(c,{prop:"bidAmount",label:"投标金额"},{default:l(({row:a})=>[V("￥"+v(a.bidAmount.toLocaleString()),1)]),_:1}),e(c,{prop:"status",label:"状态"},{default:l(({row:a})=>[e(U,{type:a.status==="WIN"?"success":"info"},{default:l(()=>[V(v(a.status),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"createTime",label:"投标时间"})]),_:1},8,["data"])])):y("",!0)]),_:1})]),_:1})]),_:1})])}}},de=H(ne,[["__scopeId","data-v-3e66d23c"]]);export{de as default};
