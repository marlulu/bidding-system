import{_ as y,r as w,b,k,o as x,h as i,g as o,w as l,e as a,f as R,j as m,i as E,Y as C,E as _}from"./index-Dg0MfX17.js";const B={class:"reset-container"},N={class:"reset-box"},U={class:"login-link"},q={__name:"ResetPassword",setup(h){const p=R(),f=w(null),n=w(!1),s=b({username:"",newPassword:"",confirmPassword:""}),c={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"}],confirmPassword:[{validator:(d,e,r)=>{e===""?r(new Error("请再次输入新密码")):e!==s.newPassword?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"}]},g=async()=>{try{await f.value.validate(),n.value=!0,await C(s),_.success("密码重置成功，请使用新密码登录"),p.push("/")}catch(d){_.error(d.message||"重置失败")}finally{n.value=!1}};return(d,e)=>{const r=a("el-input"),u=a("el-form-item"),P=a("el-button"),v=a("el-link"),V=a("el-form");return x(),k("div",B,[i("div",N,[e[7]||(e[7]=i("h2",{class:"reset-title"},"重置密码",-1)),o(V,{ref_key:"formRef",ref:f,model:s,rules:c,"label-position":"top"},{default:l(()=>[o(u,{label:"用户名",prop:"username"},{default:l(()=>[o(r,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=t=>s.username=t),placeholder:"请输入您的用户名"},null,8,["modelValue"])]),_:1}),o(u,{label:"新密码",prop:"newPassword"},{default:l(()=>[o(r,{modelValue:s.newPassword,"onUpdate:modelValue":e[1]||(e[1]=t=>s.newPassword=t),type:"password","show-password":"",placeholder:"请输入新密码"},null,8,["modelValue"])]),_:1}),o(u,{label:"确认新密码",prop:"confirmPassword"},{default:l(()=>[o(r,{modelValue:s.confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=t=>s.confirmPassword=t),type:"password","show-password":"",placeholder:"请再次输入新密码"},null,8,["modelValue"])]),_:1}),o(P,{type:"primary",loading:n.value,onClick:g,style:{width:"100%","margin-top":"20px"}},{default:l(()=>[...e[4]||(e[4]=[m(" 重置密码 ",-1)])]),_:1},8,["loading"]),i("div",U,[e[6]||(e[6]=m(" 记起密码了？",-1)),o(v,{type:"primary",onClick:e[3]||(e[3]=t=>E(p).push("/"))},{default:l(()=>[...e[5]||(e[5]=[m("返回登录",-1)])]),_:1})])]),_:1},8,["model"])])])}}},I=y(q,[["__scopeId","data-v-363dd089"]]);export{I as default};
